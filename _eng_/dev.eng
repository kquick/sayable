dev
  subcmd
    build
      Builds the sayable library
        exec = cabal build sayable
    test
      testcase
        sayableTests
          type = EXE
          runner = cabal_test
      testrunner
        cabal_test
          exec = cabal test {TestName}

    nixbuild
      Uses nix to build with current GHC versions
        in dir = {TopDir}
        exec = nix build --no-link .#sayable.ghc912
    nixbuild:old
      Uses nix to build with old GHC versions
        exec =
          nix build --no-link --override-input nixpkgs github:nixos/nixpkgs/25.05 $(
           for X in 810 90 92 ; do echo ".#sayable.ghc$X"; done)
    nixbuild:recent
      Uses nix to build with old GHC versions
        exec =
          nix build --no-link $(for X in 94 96 98 910 912; do echo ".#sayable.ghc$X"; done)
    nixbuild:all
      Uses nix to build with all supported GHC versions
        needs = nixbuild nixbuild:old nixbuild:recent
        exec = echo All nix builds completed
